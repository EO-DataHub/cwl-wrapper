class: Workflow
doc: Main stage manager
id: stage-manager
inputs:
- id: csa
  type: string
- id: salame
  type: string
- doc: EO product for vegetation index
  id: input_reference
  label: EO product for vegetation index
  stac:catalog:
    stac:collection: input_reference
  type: Directory[]
- doc: EO product for vegetation index
  id: casale_me
  label: EO product for vegetation index
  stac:catalog:
    stac:collection: input_reference
  type: Directory[]
label: theStage
outputs: []
requirements:
  ScatterFeatureRequirement: {}
  SubworkflowFeatureRequirement: {}
steps:
  node_stage_in:
    in:
      input_reference: input_reference
    out:
    - node_stage_in/input_reference_out
    run:
      baseCommand: echo
      class: CommandLineTool
      doc: casale
      inputs:
        input_reference:
          inputBinding:
            position: 1
          type: Directory[]
      outputs:
        node_stage_in/input_reference_out:
          outputBinding:
            glob: .
          type: Directory
      stderr: outerr.txt
      stdout: output.txt
    scatter: input_reference
    scatterMethod: dotproduct
  node_stage_in_1:
    in:
      casale_me: casale_me
    out:
    - node_stage_in_1/casale_me_out
    run:
      baseCommand: echo
      class: CommandLineTool
      doc: casale
      inputs:
        casale_me:
          inputBinding:
            position: 1
          type: Directory[]
      outputs:
        node_stage_in_1/casale_me_out:
          outputBinding:
            glob: .
          type: Directory
      stderr: outerr.txt
      stdout: output.txt
    scatter: casale_me
    scatterMethod: dotproduct
  on_stage:
    in:
      casale_me: node_stage_in_1/casale_me_out
      csa: csa
      input_reference: node_stage_in/input_reference_out
      salame: salame
    out:
    - wf_outputs
    - wf_outputs3
    run: '#vegetation-index'
